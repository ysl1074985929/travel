<template>
    <div class="Icons">
        <swiper>

            <swiper-slide v-for="(page, index) of pages" :key="index">
                <div 
                    class="icon" 
                    v-for='item of page'
                    :key='item.id'
                >
                    <div class="icon-img">
                        <img class="icon-img-content" :src="item.imgUrl">
                    </div>
                    <p class="icon-desc">{{item.desc}}</p>
                </div>
            </swiper-slide>

        </swiper>
    </div>
</template>

<script>
export default {
    name: 'HomeIcons',
    data () {
        return {
            iconList: [{
                id: '0001',
                imgUrl: 'http://img1.qunarzz.com/piao/fusion/1803/95/f3dd6c383aeb3b02.png',
                desc: '景点门票'
            }, {
                id: '0002',
                imgUrl: 'http://img1.qunarzz.com/piao/fusion/1803/50/26ffa31b56646402.png',
                desc: '亲子游'
            }, {
                id: '0003',
                imgUrl: 'http://img1.qunarzz.com/piao/fusion/1804/ff/fdf170ee89594b02.png',
                desc: '厦门必游'
            }, {
                id: '0004',
                imgUrl: 'http://img1.qunarzz.com/piao/fusion/1803/97/02f5043b51b2102.png',
                desc: '鼓浪屿'
            }, {
                id: '0005',
                imgUrl: 'http://img1.qunarzz.com/piao/fusion/1804/5a/13ceb38dcf262f02.png',
                desc: '一日游'
            }, {
                id: '0006',
                imgUrl: 'http://img1.qunarzz.com/piao/fusion/1803/47/c2b659e048b11602.png',
                desc: '主题乐园'
            }, {
                id: '0007',
                imgUrl: 'http://img1.qunarzz.com/piao/fusion/1803/76/eb88861d78fb9902.png',
                desc: '动植物园'
            }, {
                id: '0008',
                imgUrl: 'http://img1.qunarzz.com/piao/fusion/1803/fa/2548667cb6e902.png',
                desc: '展馆展览'
            }, {
                id: '0009',
                imgUrl: 'http://img1.qunarzz.com/piao/fusion/1803/89/55083b0f1951f302.png',
                desc: '游船观光'
            }]
        }
    },
    computed: {
        pages () {
            const pages = []
            this.iconList.forEach((item, index) => {
                const page = Math.floor(index / 8)
                if (!pages[page]) {
                    pages[page] = []
                }
                pages[page].push(item)
            })
            return pages
        }
    }
}
</script>

<style lang="stylus" scoped>
    @import "~styles/varibles.styl"
    @import "~styles/mixins.styl"
        .Icons >>> .swiper-container
            height 0
            padding-bottom 50%
        .Icons
            margin-top .1rem
            .icon
                position relative
                overflow hidden
                float left
                width 25%
                height 0
                padding-bottom 25%
                .icon-img
                    position absolute
                    top 0
                    left 0
                    right 0
                    bottom 0.44rem
                    box-sizing border-box
                    padding .1rem
                    .icon-img-content
                        display block
                        margin 0 auto
                        height 100%
                .icon-desc
                    position absolute
                    left 0
                    right 0
                    bottom 0
                    height  0.44rem
                    line-height 0.44rem
                    color $darkTextColor
                    text-align center
                    ellipsis()
</style>